/**
 *   @file    ppg__utils.c
 *   @author  Vlad-Eusebiu Baciu
 *   @brief   Utils library
 *   @details Includes common functions, macros for all the
 *            custom libraries.
 *            
 */

/*==================================================================================================
 *
 * Copyright Vrije Universiteit Brussel, 2021-2022
 * All Rights Reserved
 * UNPUBLISHED, LICENSED SOFTWARE.
 *
 *  ==============================================================================================*/


/*==================================================================================================
 *                                        INCLUDE FILES
 * 1) system and project includes
 * 2) needed interfaces from external units
 * 3) internal and external interfaces from this unit
 *  ==============================================================================================*/

#include "ppg_utils.h"
#include <cmsis_gcc.h>

/*==================================================================================================
 *                          LOCAL TYPEDEFS (STRUCTURES, UNIONS, ENUMS)
 *  ==============================================================================================*/


/*==================================================================================================
 *                                       LOCAL MACROS
 *  ==============================================================================================*/

/*==================================================================================================
 *                                      LOCAL CONSTANTS
 *  ==============================================================================================*/


/*==================================================================================================
 *                                      LOCAL VARIABLES
 *  ==============================================================================================*/


/*==================================================================================================
 *                                      GLOBAL CONSTANTS
 *  ==============================================================================================*/

/*==================================================================================================
 *                                      GLOBAL VARIABLES
 *  ==============================================================================================*/

/*==================================================================================================
 *                                   LOCAL FUNCTION PROTOTYPES
 *  ==============================================================================================*/

/*==================================================================================================
 *                                   GLOBAL FUNCTION PROTOTYPES
 *  ==============================================================================================*/

/*==================================================================================================
 *                                       LOCAL FUNCTIONS
 *  ==============================================================================================*/

/*==================================================================================================
 *                                       GLOBAL FUNCTIONS
 *  ==============================================================================================*/

/***************************************************************************
 * Function: PPG_HandleError    
 *
 * Description: Disable IRQ and enter an infinite loop.
 **************************************************************************/
void PPG_HandleError(void)
{   
     /* Disable all interrupts. */
	__ASM volatile ("cpsid i" : : : "memory");
    
    /* Infinite loop. */
    while(1u) {}
}
